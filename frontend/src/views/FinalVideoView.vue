<template>
  <div class="p-6 min-h-screen bg-[#12100E] text-gray-100">
    <h2 class="text-2xl font-bold mb-6 text-[#FFB224]">ğŸ¬ ìµœì¢… ê²°ê³¼ë¬¼</h2>

    <div class="space-y-8">
      <div
        v-for="(block, index) in store.keyframes"
        :key="index"
        class="rounded-lg p-4 bg-[#1A1816] shadow border border-[#FFB224]/20"
      >
        <h3 class="font-semibold text-lg mb-2 text-[#FFB224]">
          ğŸ¨ í”„ë¡¬í”„íŠ¸: {{ block.prompt }}
        </h3>
        <p class="mb-2 text-gray-300">ğŸï¸ í–‰ë™ ì„¤ëª…: {{ block.actionPrompt }}</p>

        <div class="flex flex-col md:flex-row gap-6 items-start">
          <!-- ì„ íƒí•œ ì´ë¯¸ì§€ -->
          <div class="w-48 h-48 overflow-hidden rounded border border-[#FFB224]/30">
            <img
              :src="block.selectedImageUrl"
              alt="ì„ íƒí•œ ì´ë¯¸ì§€"
              class="w-full h-full object-cover"
            />
          </div>

          <!-- ë¹„ë””ì˜¤ ì˜ì—­ -->
          <div class="flex-1">
            <video
              :src="block.videoUrl"
              controls
              autoplay
              loop
              muted
              class="w-full max-w-xl rounded border border-[#FFB224]/30"
            />
            <a
              :href="block.videoUrl"
              :download="`video_${index + 1}.mp4`"
              class="inline-block mt-3 bg-[#FFB224] text-[#12100E] px-4 py-2 rounded font-semibold 
                     hover:bg-[#e6a020] transition-colors"
            >
              ë¹„ë””ì˜¤ ë‹¤ìš´ë¡œë“œ
            </a>
          </div>
        </div>
      </div>
    </div>

    <!-- í™ˆìœ¼ë¡œ ëŒì•„ê°€ê¸° ë²„íŠ¼ -->
    <div class="mt-10 flex justify-center">
      <button
        @click="goHome"
        class="px-6 py-3 rounded font-semibold 
               bg-transparent text-[#FFB224] border border-[#FFB224]/60 
               hover:bg-[#FFB224]/10 transition-colors"
      >
        â¬…ï¸ ì²˜ìŒìœ¼ë¡œ ëŒì•„ê°€ê¸°
      </button>
    </div>
  </div>
</template>

<script setup>
import { useAppStore } from '@/stores/appStore'
import { useRouter } from 'vue-router'

const store = useAppStore()
const router = useRouter()

function goHome() {
  router.push('/')
}
</script>
